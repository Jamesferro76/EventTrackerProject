<h1>If This Then That</h1>

<div *ngIf="!selected">
<table class="table table-striped table-hover">
  <thead class="table-dark">
    <tr>
    <th>Title</th>
    <th>Rules</th>
    <th></th>
  </tr>
  </thead>
<tbody>
<tr *ngFor="let game of games">
<td (click)="displayTodo(game)" >{{game.title}}</td>
<td>{{game.rules?.length}}</td>
<td><button (click)="deleteGame(game.id)" class="btn btn-danger">X</button></td>
</tr>
</tbody>
</table>

<form action="createGame">
  Title: <input type="text" name="title" [(ngModel)]="newGame.title"><br/>
  Description: <input type="text" name="description" [(ngModel)]="newGame.description"><br/>
  <button (click)="addGame()">Add Game</button>
  </form>

</div>

<div *ngIf="selected&&!editGame">
  <h1>{{selected.id}}</h1>
  <h1>{{selected.title}}</h1>
  <p>{{selected.description}}</p>
  <p>Posted: {{selected.posted}}</p>
  <div *ngFor="let rule of selected.rules">
    <hr>
    <p>Condition:{{rule.condition}}</p>
    <p>Reward:{{rule.reward}}</p>

  </div>
  <button type="button" (click)="displayTable()" class="btn btn-danger btn-sm">Back</button>
  <button type="button" (click)="setEditGame()"class="btn btn-outline-success btn-sm">Edit</button>
</div>

<div *ngIf="editGame">
  <form action="editGame">
    <input type="text" name="title" [(ngModel)]="editGame.title"><br/>
    <input type="text" name="description" [(ngModel)]="editGame.description"><br/>
    <input type="checkbox" name="posted" [(ngModel)]="editGame.posted"><br/>
    <button type="button" (click)="cancelEdit()">Cancel</button><br/>
  <button type="button" (click)="updateGame(editGame)">Save</button>
  </form>
</div>
